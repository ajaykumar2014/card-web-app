(this["webpackJsonpcard-web"]=this["webpackJsonpcard-web"]||[]).push([[0],{28:function(e,t,a){a(65).config(),e.exports={SAVE_CARD_DETAIL_URL:"http://localhost:7777/card/add",FETCH_CARD_DETAIL_URL:"http://localhost:7777/card/fetch",port:Object({NODE_ENV:"production",PUBLIC_URL:""}).PORT}},35:function(e,t,a){e.exports=a(70)},40:function(e,t,a){},68:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(6),l=a.n(c),o=(a(40),a(4)),i=a(5),s=a(30),u=a(31),d=a(16),m=a.n(d),f=a(32),p=a(7),b=a(8),h=a(10),E=a(9),v=a(11);var C=function(e){return r.a.createElement("div",{className:"form-group mx-sm-3 mb-2"},r.a.createElement("label",{htmlFor:e.id},e.label),r.a.createElement("input",{type:e.type,className:e.className,id:e.id,placeholder:e.label,onChange:e.handleChange,required:e.isRequired}))};var g=function(e){return r.a.createElement("div",null,r.a.createElement("input",{className:e.className,type:e.type,value:e.label}))},y=a(33),D=a.n(y),w=a(34),O=a.n(w);function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function I(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var j=a(28),R=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(h.a)(this,Object(E.a)(t).call(this,e))).newCardInfoSubmit=function(e){e.preventDefault(),a.fieldValidation(),a.saveNewCardDetails()},a.fieldValidation=function(){var e=a.state.newCardInfo,t=e.name,n=e.cnumber,r=e.climit;void 0!==t&&0!==t.length||alert("Card Holder Name can't be empty."),0!==n&&null!==n||alert("Card Number can't be empty."),0!==r&&null!==r||alert("Card Limit can't be zero.")},a.saveNewCardDetails=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.post(j.SAVE_CARD_DETAIL_URL,a.state.newCardInfo).then((function(e){"success"===e.data.status&&200===e.data.code?(a.setState({errorMessage:void 0}),a.props.updateStore(a.state.newCardInfo)):a.setState({errorMessage:e.data.message})})).catch((function(e){console.error(e)}));case 2:case"end":return e.stop()}}),e)}))),a.updateError=function(e){return a.setState({errorMessage:e})},a.cardHolderNameHandler=function(e){var t=e.target.value;a.setState({newCardInfo:I({},a.state.newCardInfo,{name:t})})},a.cardNumberHandler=function(e){var t=e.target.value;t.length>19&&alert("Card Number length is invalid."),a.setState({newCardInfo:I({},a.state.newCardInfo,{cnumber:t})})},a.cardLimitHandler=function(e){var t=e.target.value;a.setState({newCardInfo:I({},a.state.newCardInfo,{climit:t})})},a.state={newCardInfo:{id:O.a.v1(),name:"",cnumber:null,climit:null},errorMessage:void 0},a}return Object(v.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App-box",style:{width:"50%"}},this.state.errorMessage&&r.a.createElement("span",{className:"error-message"},this.state.errorMessage),r.a.createElement("form",{onSubmit:function(t){e.newCardInfoSubmit(t)}},r.a.createElement(C,{type:"text",className:"form-control",id:"name",label:"Name",isRequired:!0,handleChange:function(t){return e.cardHolderNameHandler(t)}}),r.a.createElement(C,{type:"number",className:"form-control",id:"cnumber",label:"Card Number",isRequired:!0,handleChange:function(t){return e.cardNumberHandler(t)}}),r.a.createElement(C,{type:"number",className:"form-control",id:"climit",label:"Card Limit",isRequired:!0,handleChange:function(t){return e.cardLimitHandler(t)}}),r.a.createElement(g,{type:"submit",className:"btn btn-primary",label:"Add"})))}}]),t}(n.Component),S=Object(i.b)(null,(function(e){return{updateStore:function(t){var a;e({type:"NEW_CARD",payload:{id:(a=t).id,name:a.name,cnumber:a.cnumber,climit:a.climit}})}}}))(R);var L=function(e){return r.a.createElement("div",null,r.a.createElement("h2",null,"Credit Card System"),r.a.createElement("h3",null,"Add"),r.a.createElement(S,null))},A=function(e){var t=e.row;return r.a.createElement("tr",null,r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.cnumber),r.a.createElement("td",null,"$0"),r.a.createElement("td",null,t.climit))};var _=function(e){var t=e.dataSet;return function(e){return r.a.createElement("div",{className:"App-box"},r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Name"),r.a.createElement("th",{scope:"col"},"Card Number"),r.a.createElement("th",{scope:"col"},"Balance"),r.a.createElement("th",{scope:"col"},"Limit"))),r.a.createElement("tbody",null,e)))}(0!==t.length?t.map((function(e){return r.a.createElement(A,{row:e,key:e.id})})):null)},k=a(28),P=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(h.a)(this,Object(E.a)(t).call(this,e))).state={cardInfoDetails:[],isLoading:!0},a}return Object(v.a)(t,e),Object(b.a)(t,[{key:"fetchUserCardDetails",value:function(){var e=this;fetch(k.FETCH_CARD_DETAIL_URL,{method:"GET",headers:{Accept:"application/json"}}).then((function(t){t.ok&&t.json().then((function(t){e.setState({cardInfoDetails:t,isLoading:!1}),e.props.refreshCardInfoDetails(e.state.cardInfoDetails)}))})).catch((function(t){e.setState({isLoading:!1})}))}},{key:"componentWillMount",value:function(){this.fetchUserCardDetails()}},{key:"render",value:function(){var e=this.props.cardInfoDetails;return e?r.a.createElement("div",null,this.state.isLoading&&r.a.createElement("i",{className:"fa fa-spinner fa-spin"},"Loading..."),!this.state.isLoading&&r.a.createElement(_,{dataSet:e})):null}}]),t}(n.Component),H=Object(i.b)((function(e){return{cardInfoDetails:e.cardDetailsReducer.cardInfoDetails}}),(function(e){return{refreshCardInfoDetails:function(t){e({type:"UPDATE_RECORDS",payload:t})}}}))(P);var T=function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Existing Cards"),r.a.createElement(H,null))},x=(a(68),a(69),Object(o.combineReducers)({cardDetailsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cardInfoDetails:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW_CARD":return{cardInfoDetails:e.cardInfoDetails.concat(t.payload)};case"UPDATE_RECORDS":return{cardInfoDetails:t.payload};default:return e}}})),U=Object(o.createStore)(x,Object(s.composeWithDevTools)());var M=function(){return r.a.createElement("div",{className:"App-box"},"\xa0\xa0\xa0\xa0\xa0\xa0",r.a.createElement(i.a,{store:U},"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",r.a.createElement("div",{className:"row"},r.a.createElement(L,null)),r.a.createElement("div",{className:"row"},r.a.createElement(T,null)),"\xa0\xa0\xa0\xa0\xa0\xa0"),"\xa0\xa0\xa0\xa0")};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[35,1,2]]]);
//# sourceMappingURL=main.1cb51210.chunk.js.map